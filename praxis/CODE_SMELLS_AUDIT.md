# Code Smells Audit: praxis/web-client/src/

This report was generated by running a series of `grep` commands to identify potential code smells.

## TODOs, FIXMEs, HACKs, and XXXs

```
praxis/web-client/src/assets/api/openapi.json:        "description": "Cancel a running or queued protocol run.\n\nReleases reserved assets and updates the run status to CANCELLED.\n\nTODO: Add permission check - only admin or run owner can cancel.",
praxis/web-client/src/app/features/assets/components/machine-list/machine-list.component.ts:    // TODO: Implement machine editing
praxis/web-client/src/app/features/assets/components/machine-list/machine-list.component.ts:    // TODO: Implement machine duplication
praxis/web-client/src/app/features/assets/components/resource-list/resource-list.component.ts:    // TODO: Implement resource editing
praxis/web-client/src/app/features/assets/components/resource-list/resource-list.component.ts:    // TODO: Implement resource duplication
praxis/web-client/src/app/features/assets/components/resource-accordion/resource-instances-dialog.component.ts:    // TODO: Implement status update via service
praxis/web-client/src/app/features/assets/components/resource-accordion/resource-instances-dialog.component.ts:    // TODO: Implement cleaning workflow
praxis/web-client/src/app/features/assets/components/resource-accordion/resource-instances-dialog.component.ts:    // TODO: Open add resource dialog with pre-selected definition
praxis/web-client/src/app/features/run-protocol/components/deck-setup-wizard/deck-setup-wizard.component.ts:        // TODO: Add confirmation dialog
praxis/web-client/src/app/features/run-protocol/services/deck-generator.service.ts:                state: {} // TODO: Populate state if needed
praxis/web-client/src/app/features/run-protocol/services/execution.service.ts:  // TODO(Jules): The pause and resume endpoints are not yet included in the
praxis/web-client/src/app/core/api-generated/services/ProtocolsService.ts:     * TODO: Add permission check - only admin or run owner can cancel.
praxis/web-client/src/app/core/api-generated/services/ProtocolRunsService.ts:     * TODO: Add permission check - only admin or run owner can cancel.
praxis/web-client/src/app/core/services/sqlite/sqlite-opfs.service.ts:        // TODO: In production, show a dialog to let user choose
```

## Type Assertions (`as any`)

```
praxis/web-client/src/app/features/run-protocol/services/deck-generator.service.spec.ts:            ] as any,
praxis/web-client/src/app/features/protocols/components/protocol-library/protocol-library.component.spec.ts:      simulation_result: { passed: true } as any
praxis/web-client/src/app/features/protocols/components/protocol-library/protocol-library.component.spec.ts:      simulation_result: { passed: false } as any
praxis/web-client/src/app/app.component.ts:    (window as any).sqliteService = this.sqlite;
praxis/web-client/src/app/core/utils/state-transform.ts:                        (channelState as any).tip !== null
praxis/web-client/src/app/core/workers/python.worker.ts:        postMessage({ type: 'PLR_COMMAND', id: currentExecutionId, payload: payload as any });
praxis/web-client/src/app/core/workers/python.worker.ts:        postMessage({ type: 'WELL_STATE_UPDATE', id: currentExecutionId, payload: payload as any });
praxis/web-client/src/app/core/workers/python.worker.ts:        postMessage({ type: 'FUNCTION_CALL_LOG', id: currentExecutionId, payload: payload as any });
praxis/web-client/src/app/core/workers/python.worker.ts:        postMessage({ type: 'USER_INTERACTION', id: currentExecutionId, payload: payload as any });
praxis/web-client/src/app/core/workers/python.worker.ts:          (self as any).protocol_bytes = new Uint8Array(blob);
praxis/web-client/src/app/core/workers/python.worker.ts:          (self as any).machine_config = machine_config;
praxis/web-client/src/app/core/workers/python.worker.ts:          (self as any).deck_setup_script = deck_setup_script || '';
praxis/web-client/src/app/core/workers/python.worker.ts:(self as any).handlePythonOutput = (type: string, content: string) => {
praxis/web-client/src/app/core/workers/sqlite-opfs.worker.ts:        sqlite3 = await (sqlite3InitModule as any)({
praxis/web-client/src/app/core/workers/sqlite-opfs.worker.ts:    if (typeof (sqlite3 as any).installOpfsSAHPoolVfs !== 'function') {
praxis/web-client/src/app/core/workers/sqlite-opfs.worker.ts:        poolUtil = await (sqlite3 as any).installOpfsSAHPoolVfs({
praxis/web-client/src/app/core/workers/sqlite-opfs.worker.ts:    const storedVersion = (versionResult as any)?.[0]?.[0] ?? 0;
praxis/web-client/src/app/core/workers/sqlite-opfs.worker.ts:    } as any);
praxis/web-client/src/app/core/mocks/mock-deck-data.ts:MOCK_DECK_DATA.resource.children[0].children = generateWells("plate_1", 100, 100) as any;
praxis/web-client/src/app/core/db/async-repositories.ts:        return (super.findAll(options) as any).pipe(
praxis/web-client/src/app/core/db/async-repositories.ts:        return (super.findById(id) as any).pipe(
praxis/web-client/src/app/core/interceptors/browser-mode.interceptor.ts:                    r.status && ['pending', 'preparing', 'queued', 'running'].includes(r.status.toLowerCase() as any)
praxis/web-client/src/app/core/interceptors/browser-mode.interceptor.ts:            protocol_definition_accession_id: (req.body as any)?.protocol_definition_accession_id || 'unknown',
praxis/web-client/src/app/core/interceptors/browser-mode.interceptor.ts:            name: (req.body as any)?.name || 'Run',
praxis/web-client/src/app/core/interceptors/browser-mode.interceptor.ts:            input_parameters_json: (req.body as any)?.parameters || {},
praxis/web-client/src/app/core/interceptors/browser-mode.interceptor.ts:            top_level_protocol_definition_accession_id: (req.body as any)?.protocol_definition_accession_id || 'unknown',
praxis/web-client/src/app/core/interceptors/browser-mode.interceptor.ts:                        machine_category: machine.machine_category || (machine as any).machine_type || 'LiquidHandler',
praxis/web-client/src/app/core/interceptors/browser-mode.interceptor.ts:                        is_simulation_override: (machine as any).is_simulation_override || true,
praxis/web-client/src/app/core/interceptors/browser-mode.interceptor.ts:                        backend_definition: (machine as any).backend_definition
praxis/web-client/src/app/core/interceptors/browser-mock-router.ts:                    protocol_accession_id: (r as any).top_level_protocol_definition_accession_id,
praxis/web-client/src/app/core/interceptors/browser-mock-router.ts:                name: (body as any)?.name || 'New Run',
praxis/web-client/src/app/core/interceptors/browser-mock-router.ts:                protocol_definition_accession_id: (body as any)?.protocol_definition_accession_id || '',
praxis/web-client/src/app/core/interceptors/browser-mock-router.ts:            } as any;
praxis/web-client/src/app/core/store/app.store.spec.ts:      const mockUser = { id: '1', username: 'test' } as any;
praxis/web-client/src/app/core/services/python-runtime.service.spec.ts:    (window as any).Worker = MockWorker;
praxis/web-client/src/app/core/services/python-runtime.service.spec.ts:    const uuidSpy = vi.spyOn(crypto, 'randomUUID').mockReturnValue('test-uuid' as any);
praxis/web-client/src/app/core/services/sqlite/sqlite-opfs.service.ts:                const count = (result.resultRows[0] as any)?.count || 0;
praxis/web-client/src/app/core/services/sqlite/sqlite.service.ts:            (window as any).sqliteService = this;
praxis/web-client/src/app/core/services/sqlite/sqlite.service.ts:                const props = (protocol as any).properties_json || {};
praxis/web-client/src/app/core/services/sqlite/sqlite.service.ts:            switchMap(repo => repo.update(runId, { status } as any)),
praxis/web-client/src/app/core/services/sqlite/sqlite.service.ts:            map(run => (run?.properties_json as any)?.state_history || null)
praxis/web-client/src/app/core/services/sqlite/sqlite-opfs.service.spec.ts:        (window as any).Worker = MockWorkerClass;
praxis/web-client/src/app/app.config.ts:    } as any),
praxis/web-client/src/app/shared/components/praxis-autocomplete/praxis-autocomplete.component.ts:      const a = v1 as any;
praxis/web-client/src/app/shared/components/praxis-autocomplete/praxis-autocomplete.component.ts:      const b = v2 as any;
praxis/web-client/src/app/shared/components/machine-card/machine-card.component.ts:    const type = (m as any).type || '';
praxis/web-client/src/app/shared/components/machine-card/machine-card.component.ts:      (m as any).is_simulated === true ||
praxis/web-client/src/app/shared/components/machine-card/machine-card.component.ts:    return (this.getMachine() as any).is_template === true;
praxis/web-client/src/app/shared/components/view-controls/view-controls.component.spec.ts:        component.onSearchInput({ target: { value: 'query' } } as any);
praxis/web-client/src/app/shared/components/filter-chip/filter-chip.component.ts:            const selected = (this.selectedValue as any[])
praxis/web-client/src/app/shared/components/workcell/machine-card/machine-card-mini.component.spec.ts:        plr_definition: {} as any,
praxis/web-client/src/app/shared/components/workcell/machine-card/machine-card-mini.component.spec.ts:    } as any;
praxis/web-client/src/app/shared/components/workcell/machine-card/machine-card.component.spec.ts:        } as any,
praxis/web-client/src/app/shared/components/workcell/machine-card/machine-card.component.spec.ts:    } as any;
praxis/web-client/src/app/shared/components/hardware-discovery-dialog/hardware-discovery-dialog.component.ts:        const result = await this.hardwareService.registerAsMachine(device) as any;
praxis/web-client/src/app/shared/components/filter-chip-bar/filter-chip-bar.component.spec.ts:        expect((component as any).getIcon('category')).toBe('category');
praxis/web-client/src/app/shared/components/filter-chip-bar/filter-chip-bar.component.spec.ts:        expect((component as any).getIcon('status')).toBe('flag');
praxis/web-client/src/app/shared/components/filter-chip-bar/filter-chip-bar.component.spec.ts:        expect((component as any).getIcon('unknown')).toBe('filter_alt');
praxis/web-client/src/app/shared/formly-types/asset-selector.component.spec.ts:    { accession_id: 'res-1', name: 'Plate 1', status: 'available' as any, resource_definition_accession_id: 'def-1' },
praxis/web-client/src/app/shared/formly-types/asset-selector.component.spec.ts:    { accession_id: 'res-2', name: 'TipRack 1', status: 'available' as any, resource_definition_accession_id: 'def-2' },
praxis/web-client/src/app/shared/formly-types/asset-selector.component.spec.ts:    { accession_id: 'res-3', name: 'Plate 2', status: 'in_use' as any, resource_definition_accession_id: 'def-1' }
praxis/web-client/src/app/shared/formly-types/asset-selector.component.spec.ts:    (component as any).openDialog();
praxis/web-client/src/app/shared/formly-types/asset-selector.component.spec.ts:    (component as any).getFilteredOptions('').subscribe((options: any[]) => {
praxis/web-client/src/app/shared/formly-types/asset-selector.component.ts:    const status = (asset as any).status?.toLowerCase() || 'unknown';
praxis/web-client/src/app/shared/formly-types/asset-selector.component.ts:    if ((asset as any).status) {
praxis/web-client/src/app/shared/formly-types/asset-selector.component.ts:      tags.push((asset as any).status);
praxis/web-client/src/app/shared/formly-types/asset-selector.component.ts:    } else if ((asset as any).machine_type) {
praxis/web-client/src/app/shared/formly-types/asset-selector.component.ts:      tags.push((asset as any).machine_type);
```

## Magic Numbers

_Note: This list is likely to contain false positives (especially in SCSS files), but is a good starting point for identifying magic numbers._

```
praxis/web-client/src/app/shared/components/filter-chip-bar/filter-chip-bar.component.ts:      border-radius: 12px;
praxis/web-client/src/app/shared/components/filter-chip-bar/filter-chip-bar.component.ts:      font-size: 12px;
praxis/web-client/src/app/shared/components/filter-chip-bar/filter-chip-bar.component.ts:      font-weight: 500;
praxis/web-client/src/app/shared/components/filter-chip-bar/filter-chip-bar.component.ts:      animation: slideIn 0.15s ease;
praxis/web-client/src/app/shared/components/filter-chip-bar/filter-chip-bar.component.ts:      transition: all 0.15s ease;
praxis/web-client/src/app/shared/components/filter-chip-bar/filter-chip-bar.component.ts:      flex-shrink: 0;
praxis/web-client/src/app/shared/components/filter-chip-bar/filter-chip-bar.component.ts:        font-size: 14px;
praxis/web-client/src/app/shared/components/filter-chip-bar/filter-chip-bar.component.ts:        width: 14px;
praxis/web-client/src/app/shared/components/filter-chip-bar/filter-chip-bar.component.ts:        height: 14px;
praxis/web-client/src/app/shared/components/filter-chip-bar/filter-chip-bar.component.ts:        max-width: 120px;
praxis/web-client/src/app/shared/components/filter-chip-bar/filter-chip-bar.component.ts:        opacity: 0.6;
praxis/web-client/src/app/shared/components/filter-chip-bar/filter-chip-bar.component.ts:          opacity: 1;
praxis/web-client/src/app/shared/components/filter-chip-bar/filter-chip-bar.component.ts:      height: 1.5rem;
praxis/web-client/src/app/shared/components/filter-chip-bar/filter-chip-bar.component.ts:      padding: 0 0.5rem;
praxis/web-client/src/app/shared/components/filter-chip-bar/filter-chip-bar.component.ts:      font-size: 0.6875rem;
praxis/web-client/src/app/shared/components/filter-chip-bar/filter-chip-bar.component.ts:      font-weight: 600;
praxis/web-client/src/app/shared/components/filter-chip-bar/filter-chip-bar.component.ts:      from { opacity: 0; }
praxis/web-client/src/app/shared/components/filter-chip-bar/filter-chip-bar.component.ts:      to { opacity: 1; }
praxis/web-client/src/app/shared/components/filter-chip-bar/filter-chip-bar.component.ts:      from { transform: translateX(-8px); opacity: 0; }
praxis/web-client/src/app/shared/components/filter-chip-bar/filter-chip-bar.component.ts:      to { transform: translateX(0); opacity: 1; }
praxis/web-client/src/app/shared/components/filter-chip-bar/filter-chip-bar.component.ts:        'resource': 'inventory_2',
praxis/web-client/src/app/shared/components/simulated-chip/simulated-chip.component.ts:    <div class="flex items-center gap-1.5 px-2 py-1 rounded bg-blue-500/10 border border-blue-500/20 text-[10px] font-bold text-blue-400 uppercase tracking-wider w-fit select-none">
praxis/web-client/src/app/shared/components/simulated-chip/simulated-chip.component.ts:      <mat-icon class="!w-3 !h-3 !text-[12px]">vibration</mat-icon>
praxis/web-client/src/app/shared/components/confirmation-dialog/confirmation-dialog.component.ts:    <h2 mat-dialog-title class="flex items-center gap-2">
praxis/web-client/src/app/shared/formly-types/repeat-section.component.ts:      margin-top: 8px;
praxis/web-client/src/app/shared/formly-types/repeat-section.component.ts:      margin-bottom: 8px;
praxis/web-client/src/app/shared/formly-types/dict-input.component.ts:      margin-bottom: 16px;
praxis/web-client/src/app/shared/formly-types/dict-input.component.ts:      font-weight: 500;
praxis/web-client/src/app/shared/formly-types/dict-input.component.ts:      margin-left: 4px;
praxis/web-client/src/app/shared/formly-types/dict-input.component.ts:      gap: 8px;
praxis/web-client/src/app/shared/formly-types/dict-input.component.ts:      flex: 1;
praxis/web-client/src/app/shared/formly-types/dict-input.component.ts:      font-size: 0.85em;
praxis/web-client/src/app/shared/formly-types/chips.component.ts:      margin-bottom: 16px;
praxis/web-client/src/app/shared/services/filter-result.service.ts:                disabled: matches === 0
praxis/web-client/src/app/shared/services/filter-result.service.spec.ts:            { category: 'A', value: 1 },
praxis/web-client/src/app/shared/services/filter-result.service.spec.ts:            { category: 'A', value: 2 },
praxis/web-client/src/app/shared/services/filter-result.service.spec.ts:            { category: 'B', value: 3 },
praxis/web-client/src/app/shared/services/filter-result.service.spec.ts:            expect(result.length).toBe(3);
praxis/web-client/src/app/shared/services/filter-result.service.spec.ts:            // Cat A: 2 matches
praxis/web-client/src/app/shared/services/filter-result.service.spec.ts:            expect(result[0].count).toBe(2);
praxis/web-client/src/app/shared/services/filter-result.service.spec.ts:            expect(result[0].disabled).toBe(false);
praxis/web-client/src/app/shared/services/filter-result.service.spec.ts:            // Cat B: 1 match
praxis/web-client/src/app/shared/services/filter-result.service.spec.ts:            expect(result[1].count).toBe(1);
praxis/web-client/src/app/shared/services/filter-result.service.spec.ts:            expect(result[1].disabled).toBe(false);
praxis/web-client/src/app/shared/services/filter-result.service.spec.ts:            // Cat C: 0 matches
praxis/web-client/src/app/shared/services/filter-result.service.spec.ts:            expect(result[2].count).toBe(0);
praxis/web-client/src/app/shared/services/filter-result.service.spec.ts:            expect(result[2].disabled).toBe(true);
```

## Commented-Out Code

```
praxis/web-client/src/app/features/assets/components/spatial-view/spatial-view.component.ts:      // assets = assets.filter(a => a.maintenance_due);
```
