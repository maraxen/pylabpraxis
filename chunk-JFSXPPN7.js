import{a as W,b as J,c as Q}from"./chunk-SGOHYTL6.js";import{a as X,b as Z}from"./chunk-62JYEZTC.js";import{b as q}from"./chunk-EIDTJXSK.js";import{a as K,b as H,d as U,f as Y,h as z}from"./chunk-GKGNTNFJ.js";import{a as mt,b as st,c as ct}from"./chunk-QPZUELQO.js";import{a as A,b as P,c as B,e as O,f as F,g as N,h as j}from"./chunk-JG6HUHEY.js";import"./chunk-VFPGQJKT.js";import{a as rt,b as lt,d as dt,e as pt,g as ut,i as gt,j as ft,k as xt}from"./chunk-ERJX7L3L.js";import"./chunk-5XV7PTQI.js";import{a as V,b as L}from"./chunk-HJ4PUJUU.js";import"./chunk-GW7MQSL6.js";import"./chunk-F4M4TAIC.js";import{a as $,b as tt,c as et,d as it,f as nt,g as at,h as ot}from"./chunk-SJZ6P2DA.js";import{e as G}from"./chunk-SKMC2KSJ.js";import{R as T,S as M}from"./chunk-YMB734HE.js";import"./chunk-HUJ7WYYJ.js";import{b as C,c as v}from"./chunk-M6LIKZVL.js";import"./chunk-Q6UYEA4T.js";import{$b as h,Bb as _,Bc as i,Cc as E,Dc as I,Sb as y,Tb as D,Yb as f,Zb as e,_b as t,gc as x,kc as m,lb as s,ma as g,mc as b,sa as c,ta as d,vb as w,wc as R}from"./chunk-ZXFVGPYG.js";import"./chunk-RNQFGQA5.js";var S=class r{constructor(l,a){this.dialogRef=l;this.data=a}onCancel(){this.dialogRef.close(!1)}onConfirm(){this.dialogRef.close(!0)}static \u0275fac=function(a){return new(a||r)(w(A),w(P))};static \u0275cmp=_({type:r,selectors:[["app-confirmation-dialog"]],decls:12,vars:7,consts:[["mat-dialog-title","",1,"flex","items-center","gap-2"],[3,"color"],[1,"text-base"],["align","end"],["mat-button","",3,"click"],["mat-flat-button","",3,"click","color"]],template:function(a,n){a&1&&(e(0,"h2",0)(1,"mat-icon",1),i(2),t(),i(3),t(),e(4,"mat-dialog-content")(5,"p",2),i(6),t()(),e(7,"mat-dialog-actions",3)(8,"button",4),m("click",function(){return n.onCancel()}),i(9),t(),e(10,"button",5),m("click",function(){return n.onConfirm()}),i(11),t()()),a&2&&(s(),f("color",n.data.color||"primary"),s(),E(n.data.icon||"warning"),s(),I(" ",n.data.title," "),s(3),E(n.data.message),s(3),E(n.data.cancelText||"Cancel"),s(),f("color",n.data.color||"primary"),s(),I(" ",n.data.confirmText||"Confirm"," "))},dependencies:[j,O,N,F,M,T,v,C],encapsulation:2})};function Et(r,l){r&1&&i(0," Resume or restart the interactive tour ")}function Ct(r,l){r&1&&(e(0,"span",20)(1,"mat-icon",47),i(2,"check_circle"),t(),i(3," You have completed the tour. Feel free to restart it anytime. "),t())}function vt(r,l){r&1&&i(0," Start the interactive tour of features ")}function Tt(r,l){if(r&1){let a=x();e(0,"button",48),m("click",function(){c(a);let o=b();return d(o.resumeTutorial())}),e(1,"mat-icon",46),i(2,"play_arrow"),t(),i(3," Resume "),t(),e(4,"button",49),m("click",function(){c(a);let o=b();return d(o.restartTutorial())}),e(5,"mat-icon",46),i(6,"restart_alt"),t(),i(7," Restart "),t()}}function Mt(r,l){if(r&1){let a=x();e(0,"button",50),m("click",function(){c(a);let o=b();return d(o.restartTutorial())}),e(1,"mat-icon",46),i(2,"restart_alt"),t(),i(3," Restart Tutorial "),t()}}function kt(r,l){if(r&1){let a=x();e(0,"button",48),m("click",function(){c(a);let o=b();return d(o.restartTutorial())}),e(1,"mat-icon",46),i(2,"play_arrow"),t(),i(3," Start Tutorial "),t()}}var k=class r{store=g(q);onboarding=g(J);tutorial=g(Q);sqlite=g(G);dialog=g(B);snackBar=g(z);browserService=g(W);setTheme(l){this.store.setTheme(l)}hasTutorialProgress(){return this.onboarding.getTutorialState()!==null}resumeTutorial(){this.tutorial.start(!0)}restartTutorial(){this.onboarding.clearTutorialState(),this.tutorial.start(!1)}resetToDefaults(){this.dialog.open(S,{data:{title:"Reset Inventory?",message:"This will delete all your custom resources and machines and restore the default simulated assets. This action cannot be undone.",confirmText:"Reset Everything",color:"warn",icon:"delete_forever"}}).afterClosed().subscribe(a=>{if(a)try{this.sqlite.resetToDefaults(),this.snackBar.open("Asset inventory reset to defaults","Close",{duration:3e3})}catch(n){console.error(n),this.snackBar.open("Failed to reset inventory","Close",{duration:3e3,panelClass:"error-snackbar"})}})}async exportData(){try{await this.sqlite.exportDatabase(),this.snackBar.open("Database exported","OK",{duration:3e3})}catch(l){console.error(l),this.snackBar.open("Export failed","OK",{duration:3e3})}}async importData(l){let a=l.target,n=a.files?.[0];if(!n)return;this.dialog.open(S,{data:{title:"Import Database?",message:"This will replace all current data with the backup file. This action cannot be undone and the page will refresh.",confirmText:"Import and Refresh",color:"warn",icon:"upload"}}).afterClosed().subscribe(async u=>{if(u)try{await this.sqlite.importDatabase(n),this.snackBar.open("Database imported - refreshing...","OK",{duration:2e3}),setTimeout(()=>this.browserService.reload(),2e3)}catch(p){console.error(p),this.snackBar.open("Import failed","OK",{duration:3e3})}a.value=""})}static \u0275fac=function(a){return new(a||r)};static \u0275cmp=_({type:r,selectors:[["app-settings"]],decls:184,vars:5,consts:[["fileInput",""],[1,"p-6"],[1,"text-3xl","font-bold","mb-6"],[1,"max-w-5xl","mx-auto","space-y-6"],[1,"glass-panel"],["mat-card-avatar","",1,"text-primary","scale-125","ml-1","box-content"],[1,"pt-4"],[1,"flex","flex-col","sm:flex-row","sm:items-center","justify-between","gap-4"],[1,"font-medium"],[1,"text-sm","text-secondary"],["hideSingleSelectionIndicator","",3,"change","value"],["value","light","aria-label","Light Mode","matTooltip","Light Mode"],["value","system","aria-label","System Preference","matTooltip","System Preference"],["value","dark","aria-label","Dark Mode","matTooltip","Dark Mode"],["mat-card-avatar","",1,"text-accent","scale-125","ml-1","box-content"],[1,"flex","items-center","justify-between"],["color","primary",3,"change","checked"],[1,"settings-divider"],["data-tour-id","settings-onboarding",1,"glass-panel"],[1,"pt-4","space-y-4"],[1,"flex","items-center","text-green-600","dark:text-green-400"],[1,"flex","gap-2"],["mat-flat-button","","color","accent"],["mat-stroked-button","","color","primary"],["mat-card-avatar","",1,"text-warning","scale-125","ml-1","box-content"],[1,"mb-4","text-sm","opacity-80"],["matListItemIcon","",1,"text-primary"],["matListItemTitle",""],["matListItemLine","",1,"font-mono","text-xs","bg-surface-container","px-2","py-0.5","rounded"],["matListItemLine","",1,"text-sm","opacity-70"],[1,"mt-4"],[1,"mr-2","text-sm"],[1,"p-4","space-y-2"],[1,"text-sm"],[1,"block","bg-surface-container","p-2","rounded","font-mono","text-xs"],[1,"text-xs","opacity-70","mt-2"],["mat-card-avatar","",1,"text-secondary","scale-125","ml-1","box-content"],["matListItemLine",""],["mat-card-avatar","",1,"text-warn","scale-125","ml-1","box-content"],[1,"mb-6"],[1,"text-sm","text-secondary","mb-4"],[1,"flex","gap-4"],["mat-stroked-button","",3,"click"],["type","file","accept",".db","hidden","",3,"change"],[1,"text-warn","text-xs","font-bold"],["mat-flat-button","","color","warn",3,"click"],[1,"mr-1"],[1,"mr-1","text-sm","h-4","w-4"],["mat-stroked-button","","color","primary",3,"click"],["mat-stroked-button","","color","accent",3,"click"],["mat-flat-button","","color","accent",3,"click"]],template:function(a,n){if(a&1){let o=x();e(0,"div",1)(1,"h1",2),i(2,"Settings"),t(),e(3,"div",3)(4,"mat-card",4)(5,"mat-card-header")(6,"mat-icon",5),i(7,"palette"),t(),e(8,"mat-card-title"),i(9,"Appearance"),t(),e(10,"mat-card-subtitle"),i(11,"Customize application look and feel"),t()(),e(12,"mat-card-content",6)(13,"div",7)(14,"div")(15,"h3",8),i(16,"Theme"),t(),e(17,"p",9),i(18,"Select your preferred color theme"),t()(),e(19,"mat-button-toggle-group",10),m("change",function(p){return c(o),d(n.setTheme(p.value))}),e(20,"mat-button-toggle",11)(21,"mat-icon"),i(22,"light_mode"),t()(),e(23,"mat-button-toggle",12)(24,"mat-icon"),i(25,"brightness_auto"),t()(),e(26,"mat-button-toggle",13)(27,"mat-icon"),i(28,"dark_mode"),t()()()()()(),e(29,"mat-card",4)(30,"mat-card-header")(31,"mat-icon",14),i(32,"extension"),t(),e(33,"mat-card-title"),i(34,"Features"),t(),e(35,"mat-card-subtitle"),i(36,"Enable or disable optional capabilities"),t()(),e(37,"mat-card-content",6)(38,"div",15)(39,"div")(40,"h3",8),i(41,"Maintenance Tracking"),t(),e(42,"p",9),i(43,"Track asset maintenance schedules and alerts"),t()(),e(44,"mat-slide-toggle",16),m("change",function(p){return c(o),d(n.store.setMaintenanceEnabled(p.checked))}),t()(),h(45,"mat-divider",17),e(46,"div",15)(47,"div")(48,"h3",8),i(49,"Infinite Consumables"),t(),e(50,"p",9),i(51,"Auto-replenish tips and plates during simulation"),t()(),e(52,"mat-slide-toggle",16),m("change",function(p){return c(o),d(n.store.setInfiniteConsumables(p.checked))}),t()()()(),e(53,"mat-card",18)(54,"mat-card-header")(55,"mat-icon",5),i(56,"school"),t(),e(57,"mat-card-title"),i(58,"Onboarding"),t(),e(59,"mat-card-subtitle"),i(60,"Manage tutorial settings"),t()(),e(61,"mat-card-content",19)(62,"div",15)(63,"div")(64,"h3",8),i(65,"Guided Tutorial"),t(),e(66,"p",9),y(67,Et,1,0)(68,Ct,4,0,"span",20)(69,vt,1,0),t()(),e(70,"div",21),y(71,Tt,8,0)(72,Mt,4,0,"button",22)(73,kt,4,0,"button",23),t()()()(),e(74,"mat-card",4)(75,"mat-card-header")(76,"mat-icon",24),i(77,"lan"),t(),e(78,"mat-card-title"),i(79,"Remote Hardware Access"),t(),e(80,"mat-card-subtitle"),i(81,"Connect local hardware to cloud execution"),t()(),e(82,"mat-card-content",6)(83,"p",25),i(84," To expose local lab equipment to cloud-based protocol execution: "),t(),e(85,"mat-list")(86,"mat-list-item")(87,"mat-icon",26),i(88,"download"),t(),e(89,"span",27),i(90,"1. Install the Praxis Agent"),t(),e(91,"code",28),i(92,"pip install praxis-agent"),t()(),e(93,"mat-list-item")(94,"mat-icon",26),i(95,"terminal"),t(),e(96,"span",27),i(97,"2. Run with your API token"),t(),e(98,"code",28),i(99,"praxis-agent --token YOUR_TOKEN"),t()(),e(100,"mat-list-item")(101,"mat-icon",26),i(102,"check_circle"),t(),e(103,"span",27),i(104,"3. Devices appear in discovery"),t(),e(105,"span",29),i(106,"Local hardware is now accessible remotely"),t()()(),e(107,"mat-expansion-panel",30)(108,"mat-expansion-panel-header")(109,"mat-panel-title")(110,"mat-icon",31),i(111,"info"),t(),i(112," Alternative: ngrok tunneling "),t()(),e(113,"div",32)(114,"p",33),i(115,"For direct serial port forwarding:"),t(),e(116,"code",34),i(117,"ngrok tcp 9600 --region=us"),t(),e(118,"p",35),i(119," Configure the tunnel URL in machine connection settings. "),t()()()()(),e(120,"mat-card",4)(121,"mat-card-header")(122,"mat-icon",36),i(123,"info"),t(),e(124,"mat-card-title"),i(125,"About"),t(),e(126,"mat-card-subtitle"),i(127,"System Information"),t()(),e(128,"mat-card-content",6)(129,"mat-list")(130,"mat-list-item")(131,"span",27),i(132,"Version"),t(),e(133,"span",37),i(134,"0.1.0-alpha"),t()(),e(135,"mat-list-item")(136,"span",27),i(137,"Frontend Framework"),t(),e(138,"span",37),i(139,"Angular v21.0.2"),t()(),e(140,"mat-list-item")(141,"span",27),i(142,"Backend API"),t(),e(143,"span",37),i(144,"/api/v1 (FastAPI)"),t()()()()(),e(145,"mat-card",4)(146,"mat-card-header")(147,"mat-icon",38),i(148,"storage"),t(),e(149,"mat-card-title"),i(150,"Data Management"),t(),e(151,"mat-card-subtitle"),i(152,"Manage local database"),t()(),e(153,"mat-card-content",6)(154,"div",39)(155,"h3",8),i(156,"Export/Import State"),t(),e(157,"p",40),i(158," Export your browser data for backup or import a previous backup. "),t(),e(159,"div",41)(160,"button",42),m("click",function(){return c(o),d(n.exportData())}),e(161,"mat-icon"),i(162,"download"),t(),i(163," Export Database "),t(),e(164,"button",42),m("click",function(){c(o);let p=R(169);return d(p.click())}),e(165,"mat-icon"),i(166,"upload"),t(),i(167," Import Database "),t(),e(168,"input",43,0),m("change",function(p){return c(o),d(n.importData(p))}),t()()(),h(170,"mat-divider",17),e(171,"div",15)(172,"div")(173,"h3",8),i(174,"Reset Asset Inventory"),t(),e(175,"p",9),i(176," Reset all resources and machines to default simulated state. "),h(177,"br"),e(178,"span",44),i(179,"WARNING: This will delete all user-created items."),t()()(),e(180,"button",45),m("click",function(){return c(o),d(n.resetToDefaults())}),e(181,"mat-icon",46),i(182,"restore"),t(),i(183," Reset to Defaults "),t()()()()()()}a&2&&(s(19),f("value",n.store.theme()),s(25),f("checked",n.store.maintenanceEnabled()),s(8),f("checked",n.store.infiniteConsumables()),s(15),D(n.hasTutorialProgress()?67:n.onboarding.hasCompletedTutorial()?68:69),s(4),D(n.hasTutorialProgress()?71:n.onboarding.hasCompletedTutorial()?72:73))},dependencies:[ot,$,at,et,nt,it,tt,ct,mt,st,v,C,xt,gt,ft,ut,rt,pt,dt,Z,X,Y,K,H,U,M,T,lt,L,V],styles:["mat-icon[_ngcontent-%COMP%]{vertical-align:middle}.glass-panel[_ngcontent-%COMP%]{background:var(--glass-bg)!important;backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);border:1px solid var(--theme-border);box-shadow:var(--glass-shadow);border-radius:16px}.settings-divider[_ngcontent-%COMP%]{margin:1.5rem 0;opacity:.3}mat-card-header[_ngcontent-%COMP%]{overflow:visible!important}  .mat-mdc-card-header-text{overflow:visible!important}  .mat-mdc-card-header .mat-mdc-card-avatar{border-radius:0!important;overflow:visible!important;margin-right:16px!important}"]})};var me=[{path:"",component:k}];export{me as SETTINGS_ROUTES};
