import{a as Re,b as $e,c as qe}from"./chunk-JHMITVIR.js";import{a as Ie,b as Be,c as De,d as We,e as Ne,f as Ve}from"./chunk-HXPSBJ7W.js";import{h as Te,i as ze}from"./chunk-GKGNTNFJ.js";import{k as Ae}from"./chunk-BRQ7VCIS.js";import{c as ke}from"./chunk-QEA2ESGG.js";import{a as se,b as le,h as de}from"./chunk-JG6HUHEY.js";import{c as ie}from"./chunk-PWVAMWZ2.js";import{a as we,b as Ee}from"./chunk-FFXGIJC7.js";import{f as Fe}from"./chunk-7F4BNMQ6.js";import{f as ye,g as he,i as Ce,j as Me,m as Se,p as be,q as Pe,r as Oe}from"./chunk-FGBSBVHW.js";import{h as Ge}from"./chunk-SJZ6P2DA.js";import{R as oe,S as ce,U as pe,W as E,Z as me,_ as ge,ga as ue,na as _e,oa as xe,sa as fe,ua as ve}from"./chunk-YMB734HE.js";import{b as ae,c as re}from"./chunk-M6LIKZVL.js";import{d as X,l as Z,m as ee,n as te,s as ne}from"./chunk-Q6UYEA4T.js";import{$b as b,Bb as j,Bc as n,Cc as m,Dc as w,Ga as H,Hb as S,K as q,O as L,Sb as u,Tb as _,Tc as h,Uc as C,Vb as Q,Wb as F,X as G,Xb as T,Y as U,Yb as d,Zb as e,_b as t,gc as M,kc as y,l as R,lb as r,ma as O,mc as p,qc as Y,r as P,rc as K,sa as f,sc as J,ta as v,v as I,w as z,wc as B,x as $,yc as k}from"./chunk-ZXFVGPYG.js";var Ue=["stepper"],A=(a,c)=>c.accession_id;function He(a,c){a&1&&n(0,"Type")}function je(a,c){a&1&&n(0,"Category")}function Qe(a,c){if(a&1){let i=M();e(0,"div",40),y("click",function(){let s,l=f(i).$implicit,g=p();return v((s=g.categoryStepFormGroup.get("category"))==null?null:s.setValue(l))}),e(1,"mat-icon"),n(2),t(),e(3,"span",41),n(4),t()()}if(a&2){let i,o=c.$implicit,s=p();k("selected",((i=s.categoryStepFormGroup.get("category"))==null?null:i.value)===o),r(2),m(s.getCategoryIcon(o)),r(2),m(o)}}function Ye(a,c){a&1&&(e(0,"div",25)(1,"mat-icon"),n(2,"error_outline"),t(),e(3,"span"),n(4,"Category is required"),t()())}function Ke(a,c){a&1&&n(0,"Machine Type")}function Je(a,c){if(a&1){let i=M();e(0,"div",51),y("click",function(){let s=f(i).$implicit,l=p(5);return v(l.selectExistingMachine(s))}),e(1,"div",10)(2,"div",11)(3,"div",52)(4,"mat-icon"),n(5,"precision_manufacturing"),t()(),e(6,"div",53)(7,"h3",54),n(8),t(),e(9,"p",55),n(10),t()()()()()}if(a&2){let i=c.$implicit;r(8),m(i.name),r(2),m(i.machine_category)}}function Xe(a,c){if(a&1&&(e(0,"div",46)(1,"h4",47)(2,"mat-icon"),n(3,"inventory"),t(),n(4," Existing Machines "),t(),e(5,"div",48),F(6,Je,11,2,"div",49,A),t(),e(8,"div",50)(9,"span"),n(10,"or create new"),t()()()),a&2){let i=p();r(6),T(i)}}function Ze(a,c){a&1&&u(0,Xe,11,0,"div",46),a&2&&_(c.length>0?0:-1)}function et(a,c){if(a&1&&(u(0,Ze,1,1),h(1,"async")),a&2){let i,o=p(2);_((i=C(1,1,o.existingMachines$))?0:-1,i)}}function tt(a,c){a&1&&(e(0,"span",63),n(1,"Has Deck"),t())}function nt(a,c){if(a&1){let i=M();e(0,"div",56),y("click",function(){let s=f(i).$implicit,l=p(2);return v(l.selectFrontend(s))}),e(1,"div",10)(2,"div",11)(3,"div",57)(4,"mat-icon"),n(5),t()(),e(6,"div",53)(7,"h3",58),n(8),t(),e(9,"p",59),n(10),t()()()(),e(11,"div",15)(12,"p",60),n(13),t()(),e(14,"div",61)(15,"div",62),u(16,tt,2,0,"span",63),t()()()}if(a&2){let i=c.$implicit,o=p(2);k("selected",(o.selectedFrontend==null?null:o.selectedFrontend.accession_id)===i.accession_id),r(5),m(o.getCategoryIcon(i.machine_category||"Other")),r(2),d("title",i.name),r(),m(i.name),r(),d("title",i.fqn),r(),m(i.fqn),r(3),m(i.description||"Abstract "+i.name+" interface"),r(3),_(i.has_deck?16:-1)}}function it(a,c){a&1&&(e(0,"div",45)(1,"mat-icon"),n(2,"search_off"),t(),e(3,"p"),n(4,"No machine types found for this category"),t()())}function at(a,c){a&1&&n(0,"Driver")}function rt(a,c){a&1&&(e(0,"span",65),n(1,"Simulated"),t())}function ot(a,c){a&1&&(e(0,"span",66),n(1,"Hardware"),t())}function ct(a,c){if(a&1){let i=M();e(0,"div",56),y("click",function(){let s=f(i).$implicit,l=p(2);return v(l.selectBackend(s))}),e(1,"div",10)(2,"div",11)(3,"div",64)(4,"mat-icon"),n(5),t()(),e(6,"div",53)(7,"h3",58),n(8),t(),e(9,"p",59),n(10),t()()()(),e(11,"div",15)(12,"p",60),n(13),t()(),e(14,"div",61)(15,"div",62),u(16,rt,2,0,"span",65)(17,ot,2,0,"span",66),t()()()}if(a&2){let i=c.$implicit,o=p(2);k("selected",(o.selectedBackend==null?null:o.selectedBackend.accession_id)===i.accession_id),r(3),d("ngClass",o.getBackendTypeBadgeClass(i)),r(2),m(i.backend_type==="simulator"?"science":"cable"),r(2),d("title",i.name),r(),m(o.getBackendDisplayName(i)),r(),d("title",i.fqn),r(),m(i.manufacturer||"PyLabRobot"),r(3),m(i.description||(i.backend_type==="simulator"?"Simulated backend for testing":"Hardware driver")),r(3),_(i.backend_type==="simulator"?16:17)}}function st(a,c){if(a&1&&(e(0,"div",45)(1,"mat-icon"),n(2,"search_off"),t(),e(3,"p"),n(4),t(),e(5,"p",67),n(6,"Try selecting a different machine type"),t()()),a&2){let i=p(2);r(4),w("No drivers found for ",i.selectedFrontend==null?null:i.selectedFrontend.name)}}function lt(a,c){if(a&1&&(e(0,"mat-step",4)(1,"form",5),S(2,Ke,1,0,"ng-template",6),e(3,"div",7)(4,"h3")(5,"mat-icon"),n(6,"precision_manufacturing"),t(),n(7," Select Machine Type"),t(),e(8,"p",42),n(9,"Choose the abstract machine type you want to instantiate."),t(),u(10,et,2,3),e(11,"div",43),F(12,nt,17,9,"div",44,A),h(14,"async"),u(15,it,5,0,"div",45),h(16,"async"),t()(),e(17,"div",20)(18,"button",26),n(19,"Back"),t(),e(20,"button",21),n(21,"Next"),t()()()(),e(22,"mat-step",4)(23,"form",5),S(24,at,1,0,"ng-template",6),e(25,"div",7)(26,"h3")(27,"mat-icon"),n(28,"memory"),t(),n(29," Select Driver"),t(),e(30,"p",42),n(31),t(),e(32,"div",43),F(33,ct,18,10,"div",44,A),h(35,"async"),u(36,st,7,1,"div",45),h(37,"async"),t()(),e(38,"div",20)(39,"button",26),n(40,"Back"),t(),e(41,"button",21),n(42,"Next"),t()()()()),a&2){let i,o,s=p();d("stepControl",s.frontendStepFormGroup),r(),d("formGroup",s.frontendStepFormGroup),r(9),_(s.context==="playground"?10:-1),r(2),T(C(14,10,s.frontends$)),r(3),_(((i=C(16,12,s.frontends$))==null?null:i.length)===0?15:-1),r(5),d("disabled",s.frontendStepFormGroup.invalid),r(2),d("stepControl",s.backendStepFormGroup),r(),d("formGroup",s.backendStepFormGroup),r(8),w("Choose a driver (backend) for your ",(s.selectedFrontend==null?null:s.selectedFrontend.name)||"machine","."),r(2),T(C(35,14,s.backends$)),r(3),_(((o=C(37,16,s.backends$))==null?null:o.length)===0?36:-1),r(5),d("disabled",s.backendStepFormGroup.invalid)}}function dt(a,c){a&1&&n(0,"Definition")}function pt(a,c){if(a&1&&(e(0,"span",63),n(1),t()),a&2){let i=p().$implicit;r(),m(i.vendor)}}function mt(a,c){if(a&1){let i=M();e(0,"div",56),y("click",function(){let s=f(i).$implicit,l=p(3);return v(l.selectDefinition(s))}),e(1,"div",10)(2,"div",11)(3,"div",57)(4,"mat-icon"),n(5,"inventory_2"),t()(),e(6,"div",53)(7,"h3",58),n(8),t(),e(9,"p",59),n(10),t()()()(),e(11,"div",15)(12,"p",60),n(13),t()(),e(14,"div",61)(15,"div",62),u(16,pt,2,1,"span",63),t()()()}if(a&2){let i=c.$implicit,o=p(3);k("selected",(o.selectedDefinition==null?null:o.selectedDefinition.accession_id)===i.accession_id),r(7),d("title",i.name),r(),m(i.name),r(),d("title",i.fqn),r(),m(i.fqn),r(3),m(i.description),r(3),_(i.vendor?16:-1)}}function gt(a,c){if(a&1){let i=M();e(0,"div",45)(1,"mat-icon"),n(2,"search_off"),t(),e(3,"p"),n(4),t(),e(5,"button",72),y("click",function(){f(i),p(2);let s=B(15),l=p();return s.value="",v(l.searchDefinitions(""))}),n(6,"Clear Search"),t()()}if(a&2){p(2);let i=B(15);r(4),w('No definitions found matching "',i.value,'"')}}function ut(a,c){if(a&1&&(e(0,"div",43),F(1,mt,17,8,"div",44,A),u(3,gt,7,1,"div",45),t()),a&2){let i=c;r(),T(i),r(2),_(i.length===0?3:-1)}}function _t(a,c){if(a&1){let i=M();e(0,"mat-step",4)(1,"form",5),S(2,dt,1,0,"ng-template",6),e(3,"div",7)(4,"h3")(5,"mat-icon"),n(6,"find_in_page"),t(),n(7," Choose Definition"),t(),e(8,"div",68)(9,"mat-form-field",69)(10,"mat-label"),n(11,"Search the registry..."),t(),e(12,"mat-icon",70),n(13,"search"),t(),e(14,"input",71,1),y("input",function(s){f(i);let l=p();return v(l.searchDefinitions(s.target.value))}),t()()(),u(16,ut,4,1,"div",43),h(17,"async"),t(),e(18,"div",20)(19,"button",26),n(20,"Back"),t(),e(21,"button",21),n(22,"Next"),t()()()()}if(a&2){let i,o=p();d("stepControl",o.definitionStepFormGroup),r(),d("formGroup",o.definitionStepFormGroup),r(15),_((i=C(17,4,o.searchResults$))?16:-1,i),r(5),d("disabled",o.definitionStepFormGroup.invalid)}}function xt(a,c){a&1&&n(0,"Config")}function ft(a,c){a&1&&(e(0,"mat-error"),n(1,"Name is required"),t())}function vt(a,c){a&1&&(e(0,"div",31)(1,"h4"),n(2,"Connection Settings"),t(),e(3,"mat-form-field",28)(4,"mat-label"),n(5,"Serial Port / USB / IP"),t(),b(6,"input",73),e(7,"mat-icon",30),n(8,"lan"),t()()())}function yt(a,c){a&1&&(e(0,"mat-form-field",28)(1,"mat-label"),n(2,"Initial Location (Optional)"),t(),b(3,"input",74),e(4,"mat-icon",30),n(5,"location_on"),t()())}function ht(a,c){a&1&&n(0,"Review")}function Ct(a,c){a&1&&(e(0,"span",75),n(1,"(Simulated)"),t())}function Mt(a,c){if(a&1&&(e(0,"div",34)(1,"span",35),n(2,"Machine Type"),t(),e(3,"span",36),n(4),t()(),e(5,"div",34)(6,"span",35),n(7,"Driver"),t(),e(8,"span",36),n(9),u(10,Ct,2,0,"span",75),t()()),a&2){let i=p();r(4),m(i.selectedFrontend==null?null:i.selectedFrontend.name),r(5),w(" ",i.selectedBackend?i.getBackendDisplayName(i.selectedBackend):"None"," "),r(),_((i.selectedBackend==null?null:i.selectedBackend.backend_type)==="simulator"?10:-1)}}function St(a,c){if(a&1&&(e(0,"div",34)(1,"span",35),n(2,"Definition"),t(),e(3,"span",36),n(4),t()()),a&2){let i=p();r(4),m(i.selectedDefinition==null?null:i.selectedDefinition.name)}}function bt(a,c){a&1&&(e(0,"div",37),b(1,"mat-spinner",76),e(2,"p"),n(3,"Deploying asset to environment..."),t()())}var Le=class a{fb=O(fe);assetService=O(ke);modeService=O(ie);dialogRef=O(se);data=O(le,{optional:!0});snackBar=O(Te);stepper;context="asset-management";isLoading=H(!1);existingMachines$=P([]);selectedExistingMachine=null;typeStepFormGroup=this.fb.group({assetType:["",E.required]});categoryStepFormGroup=this.fb.group({category:["",E.required]});frontendStepFormGroup=this.fb.group({frontend:["",E.required]});backendStepFormGroup=this.fb.group({backend:["",E.required]});definitionStepFormGroup=this.fb.group({definition:["",E.required]});configStepFormGroup=this.fb.group({name:["",E.required],connection_info:[""],location:[""],description:[""]});categories$=P([]);frontends$=P([]);selectedFrontend=null;backends$=P([]);selectedBackend=null;searchSubject=new R("");searchResults$=P([]);selectedDefinition=null;getBackendDisplayName(c){let i=c.name||c.fqn.split(".").pop()||"Unknown";return i.toLowerCase().includes("chatterbox")?"Simulated":i.replace(/Backend$/,"")}getBackendTypeBadgeClass(c){return c.backend_type==="simulator"?"bg-[var(--mat-sys-tertiary-container)] text-[var(--mat-sys-tertiary)]":"bg-[var(--mat-sys-primary-container)] text-[var(--mat-sys-primary)]"}ngOnInit(){this.data?.context&&(this.context=this.data.context),this.typeStepFormGroup.get("assetType")?.valueChanges.subscribe(l=>{this.categoryStepFormGroup.get("category")?.reset(),this.selectedExistingMachine=null,this.selectedFrontend=null,this.selectedBackend=null,this.selectedDefinition=null,l==="MACHINE"?(this.categories$=this.assetService.getMachineFacets().pipe(z(g=>g.machine_category.filter(x=>x.value!=="Backend"&&x.value!=="Other").map(x=>String(x.value)))),this.context==="playground"&&(this.existingMachines$=this.assetService.getMachines())):l==="RESOURCE"&&(this.categories$=this.assetService.getFacets().pipe(z(g=>g.plr_category.map(x=>String(x.value))))),this.searchSubject.next("")}),this.categoryStepFormGroup.get("category")?.valueChanges.subscribe(l=>{this.typeStepFormGroup.get("assetType")?.value==="MACHINE"&&l&&(this.frontends$=this.assetService.getMachineFrontendDefinitions().pipe(z(g=>g.filter(x=>x.machine_category===l))))}),this.frontendStepFormGroup.get("frontend")?.valueChanges.subscribe(l=>{l&&(this.backends$=this.assetService.getBackendsForFrontend(l))});let c=this.data?.preselectedType||this.data?.initialAssetType;if(c){let l=String(c).toUpperCase();this.typeStepFormGroup.patchValue({assetType:l}),setTimeout(()=>{this.stepper&&(this.stepper.selectedIndex=1)},0)}let i=this.typeStepFormGroup.get("assetType").valueChanges.pipe(G("")),o=this.categoryStepFormGroup.get("category").valueChanges.pipe(G("")),s=this.searchSubject.pipe(G(""),q(300),L());this.searchResults$=$([i,o,s]).pipe(U(([l,g,x])=>!l||l!=="RESOURCE"?P([]):this.assetService.searchResourceDefinitions(x,g)))}searchDefinitions(c){this.searchSubject.next(c)}getCategoryIcon(c){return{LiquidHandler:"precision_manufacturing",PlateReader:"visibility",HeaterShaker:"thermostat",Shaker:"vibration",Centrifuge:"rotate_right",Incubator:"thermostat_auto",Plate:"grid_view",TipRack:"view_in_ar",Trough:"water_drop",Reservoir:"water_drop",Carrier:"apps",Deck:"dashboard",Tube:"science",Other:"extension"}[c]||"science"}selectFrontend(c){this.selectedFrontend=c,this.frontendStepFormGroup.patchValue({frontend:c.accession_id}),this.selectedBackend=null,this.backendStepFormGroup.reset();let i=Math.random().toString(36).substring(2,6).toUpperCase();this.configStepFormGroup.patchValue({name:`${c.name} ${i}`,description:c.description||""})}selectBackend(c){this.selectedBackend=c,this.backendStepFormGroup.patchValue({backend:c.accession_id})}selectDefinition(c){this.selectedDefinition=c,this.definitionStepFormGroup.patchValue({definition:c.accession_id});let i=Math.random().toString(36).substring(2,6).toUpperCase();this.configStepFormGroup.patchValue({name:`${c.name} ${i}`,description:c.description||""})}selectExistingMachine(c){this.selectedExistingMachine=c,this.dialogRef.close(c)}chooseSimulateNew(){this.selectedExistingMachine=null,this.stepper&&(this.stepper.selectedIndex=1)}async createAsset(){if(this.isLoading())return;let c=this.typeStepFormGroup.get("assetType")?.value,i=this.categoryStepFormGroup.get("category")?.value,o=this.configStepFormGroup.value;this.isLoading.set(!0);try{let s;if(c==="MACHINE"){let l={name:o.name,machine_category:i,machine_type:i,description:o.description,frontend_definition_accession_id:this.selectedFrontend?.accession_id,backend_definition_accession_id:this.selectedBackend?.accession_id,is_simulation_override:this.selectedBackend?.backend_type==="simulator",simulation_backend_name:this.selectedBackend?.backend_type==="simulator"?this.getBackendDisplayName(this.selectedBackend):void 0,connection_info:o.connection_info?{address:o.connection_info}:void 0,backend_config:this.selectedBackend?.connection_config};s=await I(this.assetService.createMachine(l))}else{let l={name:o.name,resource_definition_accession_id:this.selectedDefinition?.accession_id};s=await I(this.assetService.createResource(l))}this.dialogRef.close(s)}catch(s){console.error("Error creating asset:",s);let l=s?.message||"";l.includes("UNIQUE constraint")||l.includes("already exists")?this.snackBar.open("An asset with this name already exists. Please use a different name.","OK",{duration:5e3}):this.snackBar.open("Failed to create asset. Please try again.","OK",{duration:5e3})}finally{this.isLoading.set(!1)}}close(){this.dialogRef.close()}get isMachine(){return this.typeStepFormGroup.get("assetType")?.value==="MACHINE"}get requiresConnectionInfo(){return this.selectedBackend?.backend_type==="hardware"}static \u0275fac=function(i){return new(i||a)};static \u0275cmp=j({type:a,selectors:[["app-asset-wizard"]],viewQuery:function(i,o){if(i&1&&Y(Ue,5),i&2){let s;K(s=J())&&(o.stepper=s.first)}},inputs:{context:"context"},decls:127,vars:35,consts:[["stepper",""],["searchInput",""],[1,"asset-wizard-container"],["orientation","horizontal",3,"linear"],[3,"stepControl"],[3,"formGroup"],["matStepLabel",""],[1,"step-content"],["formControlName","assetType",1,"type-selection"],[1,"praxis-card","premium","type-card","group",3,"click"],[1,"card-header"],[1,"flex","items-center","gap-3","w-full"],[1,"card-icon-avatar","bg-[var(--mat-sys-primary)]","text-[var(--mat-sys-on-primary)]"],[1,"min-w-0"],[1,"card-title","group-hover:text-[var(--mat-sys-primary)]","transition-colors"],[1,"card-content"],[1,"text-sm","text-sys-text-secondary"],["value","MACHINE"],[1,"card-icon-avatar","bg-[var(--mat-sys-secondary)]","text-[var(--mat-sys-on-secondary)]"],["value","RESOURCE"],[1,"step-actions"],["mat-flat-button","","color","primary","matStepperNext","",3,"disabled"],[1,"category-selection"],[1,"category-grid"],[1,"category-card",3,"selected"],[1,"chip-error"],["mat-button","","matStepperPrevious",""],[1,"form-grid"],["appearance","outline",1,"full-width"],["matInput","","formControlName","name","placeholder","e.g. Primary Hamilton, Plate Bench 1"],["matSuffix",""],[1,"connection-settings"],["matInput","","formControlName","description","rows","3"],[1,"praxis-card","premium","review-card"],[1,"review-row"],[1,"label"],[1,"value"],[1,"creation-status"],["mat-button","","matStepperPrevious","",3,"disabled"],["mat-flat-button","","color","primary",3,"click","disabled"],[1,"category-card",3,"click"],[1,"category-label"],[1,"step-description"],[1,"results-grid"],[1,"praxis-card","premium","result-card","group",3,"selected"],[1,"no-results"],[1,"existing-machines-section"],[1,"section-subtitle"],[1,"results-grid","compact"],[1,"praxis-card","premium","result-card","group","compact"],[1,"separator"],[1,"praxis-card","premium","result-card","group","compact",3,"click"],[1,"card-icon-avatar","small","bg-[var(--mat-sys-primary-container)]","text-[var(--mat-sys-primary)]"],[1,"min-w-0","flex-grow"],[1,"card-title","group-hover:text-[var(--mat-sys-primary)]","transition-colors","line-clamp-1"],[1,"card-subtitle","line-clamp-1"],[1,"praxis-card","premium","result-card","group",3,"click"],[1,"card-icon-avatar","bg-[var(--mat-sys-primary-container)]","text-[var(--mat-sys-primary)]"],[1,"card-title","group-hover:text-[var(--mat-sys-primary)]","transition-colors","line-clamp-1",3,"title"],[1,"card-subtitle","line-clamp-1",3,"title"],[1,"text-sm","text-sys-text-secondary","line-clamp-2","min-h-[40px]"],[1,"card-actions"],[1,"flex","flex-wrap","gap-2"],[1,"px-2","py-0.5","rounded","bg-[var(--mat-sys-secondary-container)]","text-[var(--mat-sys-secondary)]","text-[10px]","font-bold","uppercase","tracking-wider"],[1,"card-icon-avatar",3,"ngClass"],[1,"px-2","py-0.5","rounded","bg-[var(--mat-sys-tertiary-container)]","text-[var(--mat-sys-tertiary)]","text-[10px]","font-bold","uppercase","tracking-wider"],[1,"px-2","py-0.5","rounded","bg-[var(--mat-sys-primary-container)]","text-[var(--mat-sys-primary)]","text-[10px]","font-bold","uppercase","tracking-wider"],[1,"text-xs","text-sys-text-tertiary","mt-2"],[1,"search-container"],["appearance","outline",1,"search-field"],["matPrefix",""],["matInput","","placeholder","e.g. Plate, Tip...",3,"input"],["mat-button","","color","primary",3,"click"],["matInput","","formControlName","connection_info","placeholder","e.g. COM3, /dev/ttyUSB0, 192.168.1.10"],["matInput","","formControlName","location","placeholder","e.g. Deck Slot A1, Storage Rack B"],[1,"text-[var(--mat-sys-tertiary)]","text-xs","ml-1"],["diameter","40"]],template:function(i,o){if(i&1){let s=M();e(0,"div",2)(1,"mat-stepper",3,0)(3,"mat-step",4)(4,"form",5),S(5,He,1,0,"ng-template",6),e(6,"div",7)(7,"h3")(8,"mat-icon"),n(9,"category"),t(),n(10," Select Asset Type"),t(),e(11,"mat-radio-group",8)(12,"div",9),y("click",function(){let g;return f(s),v((g=o.typeStepFormGroup.get("assetType"))==null?null:g.setValue("MACHINE"))}),e(13,"div",10)(14,"div",11)(15,"div",12)(16,"mat-icon"),n(17,"settings"),t()(),e(18,"div",13)(19,"h3",14),n(20,"Machine"),t()()()(),e(21,"div",15)(22,"p",16),n(23,"Instruments, robots, and automated lab hardware."),t()(),b(24,"mat-radio-button",17),t(),e(25,"div",9),y("click",function(){let g;return f(s),v((g=o.typeStepFormGroup.get("assetType"))==null?null:g.setValue("RESOURCE"))}),e(26,"div",10)(27,"div",11)(28,"div",18)(29,"mat-icon"),n(30,"inventory_2"),t()(),e(31,"div",13)(32,"h3",14),n(33,"Resource"),t()()()(),e(34,"div",15)(35,"p",16),n(36,"Labware, tips, reagents, and consumables."),t()(),b(37,"mat-radio-button",19),t()()(),e(38,"div",20)(39,"button",21),n(40,"Next"),t()()()(),e(41,"mat-step",4)(42,"form",5),S(43,je,1,0,"ng-template",6),e(44,"div",7)(45,"div",22)(46,"h3")(47,"mat-icon"),n(48,"segment"),t(),n(49," Select Category"),t(),e(50,"div",23),F(51,Qe,5,4,"div",24,Q),h(53,"async"),t(),u(54,Ye,5,0,"div",25),t()(),e(55,"div",20)(56,"button",26),n(57,"Back"),t(),e(58,"button",21),n(59,"Next"),t()()()(),u(60,lt,43,18),u(61,_t,23,6,"mat-step",4),e(62,"mat-step",4)(63,"form",5),S(64,xt,1,0,"ng-template",6),e(65,"div",7)(66,"h3")(67,"mat-icon"),n(68,"settings_suggest"),t(),n(69," Complete Configuration"),t(),e(70,"div",27)(71,"mat-form-field",28)(72,"mat-label"),n(73,"Instance Name"),t(),b(74,"input",29),e(75,"mat-icon",30),n(76,"badge"),t(),u(77,ft,2,0,"mat-error"),t(),u(78,vt,9,0,"div",31),u(79,yt,6,0,"mat-form-field",28),e(80,"mat-form-field",28)(81,"mat-label"),n(82,"Description (Optional)"),t(),b(83,"textarea",32),e(84,"mat-icon",30),n(85,"notes"),t()()()(),e(86,"div",20)(87,"button",26),n(88,"Back"),t(),e(89,"button",21),n(90,"Next"),t()()()(),e(91,"mat-step"),S(92,ht,1,0,"ng-template",6),e(93,"div",7)(94,"h3")(95,"mat-icon"),n(96,"assignment_turned_in"),t(),n(97," Final Review"),t(),e(98,"p"),n(99),h(100,"lowercase"),t(),e(101,"div",33)(102,"div",15)(103,"div",34)(104,"span",35),n(105,"Type"),t(),e(106,"span",36),n(107),h(108,"titlecase"),t()(),e(109,"div",34)(110,"span",35),n(111,"Category"),t(),e(112,"span",36),n(113),t()(),u(114,Mt,11,3)(115,St,5,1,"div",34),e(116,"div",34)(117,"span",35),n(118,"Instance Name"),t(),e(119,"span",36),n(120),t()()()(),u(121,bt,4,0,"div",37),t(),e(122,"div",20)(123,"button",38),n(124,"Back"),t(),e(125,"button",39),y("click",function(){return f(s),v(o.createAsset())}),n(126),t()()()()()}if(i&2){let s,l,g,x,D,W,N,V;r(),d("linear",!0),r(2),d("stepControl",o.typeStepFormGroup),r(),d("formGroup",o.typeStepFormGroup),r(8),k("selected",((s=o.typeStepFormGroup.get("assetType"))==null?null:s.value)==="MACHINE"),r(13),k("selected",((l=o.typeStepFormGroup.get("assetType"))==null?null:l.value)==="RESOURCE"),r(14),d("disabled",o.typeStepFormGroup.invalid),r(2),d("stepControl",o.categoryStepFormGroup),r(),d("formGroup",o.categoryStepFormGroup),r(9),T(C(53,29,o.categories$)),r(3),_((g=o.categoryStepFormGroup.get("category"))!=null&&g.hasError("required")&&((g=o.categoryStepFormGroup.get("category"))!=null&&g.touched)?54:-1),r(4),d("disabled",o.categoryStepFormGroup.invalid),r(2),_(o.isMachine?60:-1),r(),_(o.isMachine?-1:61),r(),d("stepControl",o.configStepFormGroup),r(),d("formGroup",o.configStepFormGroup),r(14),_((x=o.configStepFormGroup.get("name"))!=null&&x.hasError("required")?77:-1),r(),_(o.isMachine&&o.requiresConnectionInfo?78:-1),r(),_(o.isMachine?-1:79),r(10),d("disabled",o.configStepFormGroup.invalid),r(10),w("Confirm the details for your new ",C(100,31,(D=o.typeStepFormGroup.get("assetType"))==null?null:D.value),"."),r(8),m(C(108,33,(W=o.typeStepFormGroup.get("assetType"))==null?null:W.value)),r(6),m((N=o.categoryStepFormGroup.get("category"))==null?null:N.value),r(),_(o.isMachine?114:115),r(6),m((V=o.configStepFormGroup.get("name"))==null?null:V.value),r(),_(o.isLoading()?121:-1),r(2),d("disabled",o.isLoading()),r(2),d("disabled",o.isLoading()),r(),w(" ",o.isLoading()?"Creating...":"Create Asset"," ")}},dependencies:[ne,X,ve,ue,pe,me,ge,xe,_e,Ve,Be,Ie,De,We,Ne,be,Se,ye,he,Ce,Me,Oe,Pe,ce,oe,Ae,qe,Re,$e,Ge,re,ae,Fe,Ee,we,de,ze,Z,ee,te],styles:['.asset-wizard-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:650px;max-height:90vh;width:100%;margin:0;overflow:hidden}.asset-wizard-container[_ngcontent-%COMP%]     .mat-horizontal-stepper-header-container{padding:var(--spacing-sm) var(--spacing-lg) 0;background:var(--mat-sys-surface-container-low)}.asset-wizard-container[_ngcontent-%COMP%]     .mat-step-header{border-radius:8px;margin-bottom:var(--spacing-xs)}.asset-wizard-container[_ngcontent-%COMP%]     .mat-step-header:hover{background:var(--mat-sys-surface-container-high)}.asset-wizard-container[_ngcontent-%COMP%]     .mat-horizontal-content-container{padding:0!important;overflow:hidden}.asset-wizard-container[_ngcontent-%COMP%]     .mat-horizontal-stepper-content{overflow:hidden!important;display:flex;flex-direction:column;height:100%}.step-content[_ngcontent-%COMP%]{padding:24px;flex:1;animation:_ngcontent-%COMP%_fadeIn .3s ease-out;overflow-y:auto;overflow-x:hidden;max-width:100%;display:flex;flex-direction:column}.step-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 var(--spacing-lg);font:var(--mat-sys-title-large);color:var(--mat-sys-on-surface);display:flex;align-items:center;gap:var(--spacing-sm);flex-shrink:0}.step-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--mat-sys-primary)}.step-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:var(--spacing-md);padding:var(--spacing-lg);background:var(--mat-sys-surface-container-low);border-top:1px solid var(--mat-sys-outline-variant);flex-shrink:0}.type-selection[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:20px;max-width:800px;margin:auto}.type-selection[_ngcontent-%COMP%]     .mat-mdc-radio-button{display:none}.type-card[_ngcontent-%COMP%]{cursor:pointer;transition:all .2s ease;height:100%}.type-card.selected[_ngcontent-%COMP%]{border-color:var(--mat-sys-primary)!important;background:rgba(var(--mat-sys-primary-rgb),.08)!important}.type-card[_ngcontent-%COMP%]:hover:not(.selected){border-color:var(--mat-sys-outline)}.category-selection[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideUp .3s ease-out;flex:1;display:flex;flex-direction:column;min-height:0}.category-selection[_ngcontent-%COMP%]   .category-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:12px;width:100%;box-sizing:border-box;padding:4px}.category-selection[_ngcontent-%COMP%]   .category-card[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;padding:12px 16px;background:var(--mat-sys-surface-container-high);border:1px solid var(--mat-sys-outline-variant);border-radius:16px;cursor:pointer;transition:all .2s cubic-bezier(.4,0,.2,1);gap:12px;min-height:72px}.category-selection[_ngcontent-%COMP%]   .category-card[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;height:24px;width:24px;color:var(--mat-sys-primary);opacity:.8;padding:10px;background:var(--mat-sys-surface-container-highest);border-radius:14px;display:flex;align-items:center;justify-content:center;flex-shrink:0}.category-selection[_ngcontent-%COMP%]   .category-card[_ngcontent-%COMP%]   .category-label[_ngcontent-%COMP%]{font:var(--mat-sys-label-large);color:var(--mat-sys-on-surface);text-align:left;font-weight:600;line-height:1.2;flex:1;min-width:0;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.category-selection[_ngcontent-%COMP%]   .category-card[_ngcontent-%COMP%]:hover{background:var(--mat-sys-surface-container-highest);border-color:var(--mat-sys-primary);transform:translateY(-2px);box-shadow:0 4px 12px #0000001a}.category-selection[_ngcontent-%COMP%]   .category-card[_ngcontent-%COMP%]:hover   mat-icon[_ngcontent-%COMP%]{opacity:1;background:var(--mat-sys-primary-container)}.category-selection[_ngcontent-%COMP%]   .category-card.selected[_ngcontent-%COMP%]{background:var(--mat-sys-primary-container)!important;border-color:var(--mat-sys-primary)!important;box-shadow:0 0 0 2px var(--mat-sys-primary),0 4px 8px #0000001a}.category-selection[_ngcontent-%COMP%]   .category-card.selected[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--mat-sys-on-primary-container)!important;background:var(--mat-sys-primary)!important;opacity:1}.category-selection[_ngcontent-%COMP%]   .category-card.selected[_ngcontent-%COMP%]   .category-label[_ngcontent-%COMP%]{color:var(--mat-sys-on-primary-container)}.category-selection[_ngcontent-%COMP%]   .chip-error[_ngcontent-%COMP%]{margin-top:var(--spacing-sm);font-size:13px;color:var(--mat-sys-error);display:flex;align-items:center;gap:6px;padding:0 var(--spacing-sm);animation:_ngcontent-%COMP%_fadeIn .3s ease;flex-shrink:0}.category-selection[_ngcontent-%COMP%]   .chip-error[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;height:18px;width:18px;color:var(--mat-sys-error)}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.praxis-card.type-card[_ngcontent-%COMP%]   .card-icon-avatar[_ngcontent-%COMP%], .praxis-card.result-card[_ngcontent-%COMP%]   .card-icon-avatar[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:9999px;display:flex;align-items:center;justify-content:center;flex-shrink:0}.praxis-card.type-card[_ngcontent-%COMP%]   .card-icon-avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .praxis-card.result-card[_ngcontent-%COMP%]   .card-icon-avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.praxis-card.type-card.selected[_ngcontent-%COMP%], .praxis-card.result-card.selected[_ngcontent-%COMP%]{background:var(--mat-sys-primary-container);border-color:var(--mat-sys-primary);box-shadow:0 0 0 2px var(--mat-sys-primary),0 8px 16px #00000026}.praxis-card.type-card.selected[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%], .praxis-card.result-card.selected[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{color:var(--mat-sys-on-primary-container)}.praxis-card.type-card.selected[_ngcontent-%COMP%]   .card-subtitle[_ngcontent-%COMP%], .praxis-card.type-card.selected[_ngcontent-%COMP%]   .text-sys-text-secondary[_ngcontent-%COMP%], .praxis-card.result-card.selected[_ngcontent-%COMP%]   .card-subtitle[_ngcontent-%COMP%], .praxis-card.result-card.selected[_ngcontent-%COMP%]   .text-sys-text-secondary[_ngcontent-%COMP%]{color:var(--mat-sys-on-primary-container);opacity:.8}.praxis-card.type-card[_ngcontent-%COMP%]{min-height:140px}.search-container[_ngcontent-%COMP%]{margin-bottom:var(--spacing-lg);flex-shrink:0}.search-container[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]{width:100%}.search-container[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]     .mat-mdc-form-field-subscript-wrapper{display:none}.results-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:12px;flex:1;min-height:0;overflow-y:auto;overflow-x:hidden;padding:4px;margin-top:var(--spacing-sm);width:100%;box-sizing:border-box}.results-grid[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.results-grid[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.results-grid[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--mat-sys-outline-variant);border-radius:10px}.existing-machines-section[_ngcontent-%COMP%]{margin-bottom:var(--spacing-lg);flex-shrink:0}.existing-machines-section[_ngcontent-%COMP%]   .section-subtitle[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-sm);font:var(--mat-sys-title-medium);color:var(--mat-sys-on-surface-variant);margin-bottom:var(--spacing-md)}.existing-machines-section[_ngcontent-%COMP%]   .section-subtitle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--mat-sys-primary);font-size:20px;width:20px;height:20px}.simulate-new-card[_ngcontent-%COMP%]{border:2px dashed var(--mat-sys-outline)!important;background:var(--mat-sys-surface-container-lowest)!important}.simulate-new-card[_ngcontent-%COMP%]:hover{border-color:var(--mat-sys-tertiary)!important;background:var(--mat-sys-tertiary-container)!important}.simulate-new-card[_ngcontent-%COMP%]:hover   .card-title[_ngcontent-%COMP%]{color:var(--mat-sys-tertiary)!important}.praxis-card.result-card[_ngcontent-%COMP%]{min-height:130px}.praxis-card.result-card.compact[_ngcontent-%COMP%]{min-height:100px}.praxis-card.result-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{padding:8px 16px}.praxis-card.result-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px}.praxis-card.result-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding-bottom:0}.results-grid.compact[_ngcontent-%COMP%]{max-height:160px;gap:8px;flex:0 0 auto}.card-icon-avatar.small[_ngcontent-%COMP%]{width:28px!important;height:28px!important}.card-icon-avatar.small[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px!important;width:16px!important;height:16px!important}.separator[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-md);margin:var(--spacing-lg) 0;color:var(--mat-sys-on-surface-variant);font:var(--mat-sys-label-medium);flex-shrink:0}.separator[_ngcontent-%COMP%]:before, .separator[_ngcontent-%COMP%]:after{content:"";flex:1;height:1px;background:var(--mat-sys-outline-variant)}.separator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:.5px;opacity:.7}.step-description[_ngcontent-%COMP%]{color:var(--mat-sys-on-surface-variant);font:var(--mat-sys-body-medium);margin-bottom:var(--spacing-lg);flex-shrink:0}.form-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-md);max-width:600px;margin:0 auto;width:100%}.full-width[_ngcontent-%COMP%]{width:100%}.backend-type-hint[_ngcontent-%COMP%]{font-style:italic;opacity:.7;font-size:12px;margin-left:8px}.review-card[_ngcontent-%COMP%]{margin-top:var(--spacing-lg)}.review-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{padding:var(--spacing-xl)}.review-row[_ngcontent-%COMP%]{display:flex;align-items:center;padding:var(--spacing-md) 0;border-bottom:1px solid var(--mat-sys-outline-variant)}.review-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.review-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{width:160px;font:var(--mat-sys-label-large);color:var(--mat-sys-secondary);font-weight:600;flex-shrink:0}.review-row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{flex:1;font:var(--mat-sys-body-large);color:var(--mat-sys-on-surface);word-break:break-word}.creation-status[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:var(--spacing-md);margin-top:var(--spacing-xl);padding:var(--spacing-lg);flex-shrink:0}.creation-status[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font:var(--mat-sys-title-medium);color:var(--mat-sys-primary);margin:0}.no-results[_ngcontent-%COMP%]{grid-column:1/-1;padding:var(--spacing-xl);text-align:center;color:var(--mat-sys-on-surface-variant);background:var(--mat-sys-surface-container-low);border-radius:12px;border:1px dashed var(--mat-sys-outline)}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}@media(max-width:768px){.results-grid[_ngcontent-%COMP%], .category-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(160px,1fr))}.review-row[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:4px}.review-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{width:auto}}']})};export{Le as a};
