<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Authentication complete</title>
  <script>
    // Send the current URL to the parent window (your Flutter app)
    if (window.opener && !window.opener.closed) {
      window.opener.postMessage(window.location.href, window.location.origin);
      window.close(); // Close the popup after sending the message
    } else {
      // Fallback if not a popup or opener is closed (e.g. direct navigation to callback)
      // This part might need adjustment based on how openid_client expects to receive it
      // if not via postMessage. Often, it just processes window.location itself.
      console.log("Auth callback: No window.opener or opener closed. URL:", window.location.href);
    }
  </script>
</head>
<body>
  <p>Authentication complete. You can close this window.</p>
</body>
</html>