import{a as F}from"./chunk-SEKTGI6S.js";import{c as V,d as N,e as $}from"./chunk-WNYFH7QK.js";import{d as j,e as R,g as A,i as q,j as G,k as H}from"./chunk-ERJX7L3L.js";import{f as h}from"./chunk-7F4BNMQ6.js";import{a as W,b as z}from"./chunk-HJ4PUJUU.js";import{h as L}from"./chunk-SJZ6P2DA.js";import{b as y,c as M}from"./chunk-M6LIKZVL.js";import{$b as E,Aa as B,Ac as I,Bb as v,Bc as o,Cc as m,Dc as f,Ec as k,Sb as p,Tb as d,Ub as b,Wb as w,Xb as S,Yb as g,Zb as i,Zc as O,_b as n,gc as C,kc as u,lb as a,mc as s,sa as _,ta as x,wc as T,yc as D}from"./chunk-ZXFVGPYG.js";function X(t,l){t&1&&(i(0,"span",1)(1,"mat-icon"),o(2,"check_circle"),n(),o(3," Ready "),n()),t&2&&g("matTooltip","All simulation checks passed")}function Y(t,l){if(t&1&&(i(0,"span",12)(1,"mat-icon",13),o(2,"lightbulb"),n(),o(3),n()),t&2){let e=s().$implicit;a(3),f(" ",e.suggested_fix," ")}}function Z(t,l){if(t&1){let e=C();i(0,"mat-list-item",8),u("click",function(c){return _(e),x(c.stopPropagation())}),i(1,"mat-icon",9),o(2),n(),i(3,"span",10),o(4),n(),i(5,"span",11),o(6),n(),p(7,Y,4,1,"span",12),n()}if(t&2){let e=l.$implicit,r=s(2);a(),I(r.getSeverityClass(e.severity)),a(),f(" ",r.getSeverityIcon(e.severity)," "),a(2),m(e.failure_type),a(2),m(e.message),a(),d(e.suggested_fix?7:-1)}}function ee(t,l){if(t&1){let e=C();i(0,"span",3)(1,"mat-icon"),o(2,"warning"),n(),o(3),n(),i(4,"mat-menu",4,0)(6,"div",5),u("click",function(c){return _(e),x(c.stopPropagation())}),i(7,"mat-icon",6),o(8,"warning"),n(),i(9,"span"),o(10,"Detected Issues"),n()(),i(11,"mat-list",7),w(12,Z,8,6,"mat-list-item",null,b),n()()}if(t&2){let e=T(5),r=s();g("matMenuTriggerFor",e)("matTooltip","Click to view issues"),a(3),k(" ",r.failureModes().length," issue",r.failureModes().length>1?"s":""," "),a(9),S(r.failureModes())}}function te(t,l){if(t&1&&(i(0,"span",12)(1,"mat-icon",13),o(2,"lightbulb"),n(),o(3),n()),t&2){let e=s().$implicit;a(3),f(" ",e.suggested_fix," ")}}function ne(t,l){if(t&1){let e=C();i(0,"mat-list-item",8),u("click",function(c){return _(e),x(c.stopPropagation())}),i(1,"mat-icon",9),o(2),n(),i(3,"span",10),o(4),n(),i(5,"span",11),o(6),n(),p(7,te,4,1,"span",12),n()}if(t&2){let e=l.$implicit,r=s(2);a(),I(r.getSeverityClass(e.severity)),a(),f(" ",r.getSeverityIcon(e.severity)," "),a(2),m(e.failure_type),a(2),m(e.message),a(),d(e.suggested_fix?7:-1)}}function ie(t,l){if(t&1){let e=C();i(0,"span",14)(1,"mat-icon"),o(2,"error"),n(),o(3),n(),i(4,"mat-menu",4,0)(6,"div",15),u("click",function(c){return _(e),x(c.stopPropagation())}),i(7,"mat-icon"),o(8,"error"),n(),i(9,"span"),o(10,"Critical Errors"),n()(),i(11,"mat-list",7),w(12,ne,8,6,"mat-list-item",null,b),n()()}if(t&2){let e=T(5),r=s();g("matMenuTriggerFor",e)("matTooltip","Critical issues detected - click to view"),a(3),k(" ",r.failureModes().length," error",r.failureModes().length>1?"s":""," "),a(9),S(r.failureModes())}}function oe(t,l){t&1&&(i(0,"span",2)(1,"mat-icon"),o(2,"help_outline"),n(),o(3," Not analyzed "),n()),t&2&&g("matTooltip","Protocol not yet analyzed")}var P=class t{protocol=null;failureModes=O(()=>this.protocol?this.protocol.failure_modes??this.protocol.simulation_result?.failure_modes??[]:[]);status=O(()=>{if(!this.protocol||!(this.protocol.simulation_result||this.protocol.failure_modes||this.protocol.simulation_version))return"not_analyzed";let e=this.failureModes();return e.length===0?"ready":e.some(c=>c.severity==="error")?"errors":"warnings"});getSeverityIcon(l){switch(l){case"error":return"error";case"warning":return"warning";case"info":return"info";default:return"help_outline"}}getSeverityClass(l){return`severity-${l}`}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=v({type:t,selectors:[["app-protocol-warning-badge"]],inputs:{protocol:"protocol"},decls:4,vars:1,consts:[["failureMenu","matMenu"],[1,"badge","ready",3,"matTooltip"],[1,"badge","not-analyzed",3,"matTooltip"],[1,"badge","warnings",3,"matMenuTriggerFor","matTooltip"],[1,"failure-menu"],[1,"menu-header",3,"click"],["color","warn"],["dense",""],[3,"click"],["matListItemIcon",""],["matListItemTitle","",1,"failure-title"],["matListItemLine","",1,"failure-message"],["matListItemLine","",1,"failure-fix"],[1,"fix-icon"],[1,"badge","errors",3,"matMenuTriggerFor","matTooltip"],[1,"menu-header","error",3,"click"]],template:function(e,r){if(e&1&&p(0,X,4,1,"span",1)(1,ee,14,4)(2,ie,14,4)(3,oe,4,1,"span",2),e&2){let c;d((c=r.status())==="ready"?0:c==="warnings"?1:c==="errors"?2:c==="not_analyzed"?3:-1)}},dependencies:[M,y,F,z,W,$,V,N,H,q,G,A,R,j,h],styles:[".badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:4px;padding:4px 8px;border-radius:16px;font-size:.75rem;font-weight:500;cursor:pointer;transition:all .2s ease}.badge[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.badge.ready[_ngcontent-%COMP%]{background:#22c55e26;color:#22c55e}.badge.warnings[_ngcontent-%COMP%]{background:#f59e0b26;color:#f59e0b}.badge.warnings[_ngcontent-%COMP%]:hover{background:#f59e0b40}.badge.errors[_ngcontent-%COMP%]{background:#ef444426;color:#ef4444}.badge.errors[_ngcontent-%COMP%]:hover{background:#ef444440}.badge.not-analyzed[_ngcontent-%COMP%]{background:#6b728026;color:#6b7280}.menu-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px 16px;font-weight:500;border-bottom:1px solid var(--mat-sys-outline-variant);color:#f59e0b}.menu-header.error[_ngcontent-%COMP%]{color:#ef4444}.failure-title[_ngcontent-%COMP%]{font-weight:500}.failure-message[_ngcontent-%COMP%]{color:var(--mat-sys-on-surface-variant);font-size:.8rem}.failure-fix[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;color:#22c55e;font-size:.75rem;font-style:italic}.fix-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px}.severity-error[_ngcontent-%COMP%]{color:#ef4444}.severity-warning[_ngcontent-%COMP%]{color:#f59e0b}.severity-info[_ngcontent-%COMP%]{color:#3b82f6}  .failure-menu{max-width:400px}"],changeDetection:0})};function re(t,l){if(t&1&&(i(0,"p",6),o(1),n()),t&2){let e=s();a(),m(e.protocol.category)}}function ae(t,l){t&1&&(i(0,"span",14),o(1,"Top Level"),n())}function le(t,l){if(t&1&&(i(0,"div",8)(1,"p",9),o(2),n()(),i(3,"div",10)(4,"div",11)(5,"div",12)(6,"span",13),o(7),n(),p(8,ae,2,0,"span",14),n(),E(9,"app-protocol-warning-badge",15),n()()),t&2){let e=s();a(2),m(e.protocol.description||"No description available."),a(5),f("v",e.protocol.version),a(),d(e.protocol.is_top_level?8:-1),a(),g("protocol",e.protocol)}}function ce(t,l){if(t&1&&(i(0,"div",7),E(1,"app-protocol-warning-badge",15),n()),t&2){let e=s();a(),g("protocol",e.protocol)}}var J=class t{protocol;compact=!1;select=new B;static \u0275fac=function(e){return new(e||t)};static \u0275cmp=v({type:t,selectors:[["app-protocol-card"]],inputs:{protocol:"protocol",compact:"compact"},outputs:{select:"select"},decls:12,vars:5,consts:[[1,"praxis-card","premium","group","cursor-pointer",3,"click"],[1,"card-header"],[1,"flex","items-center","gap-3","min-w-0"],[1,"w-10","h-10","rounded-full","flex-shrink-0","flex","items-center","justify-center","bg-[var(--mat-sys-primary)]","text-[var(--mat-sys-on-primary)]"],[1,"min-w-0"],[1,"card-title","group-hover:text-[var(--mat-sys-primary)]","transition-colors"],[1,"card-subtitle"],[1,"card-content","pt-0"],[1,"card-content"],[1,"text-sm","text-sys-text-secondary","line-clamp-2","min-h-[40px]"],[1,"card-actions"],[1,"flex","items-center","justify-between","w-full","gap-2"],[1,"flex","flex-wrap","gap-2"],[1,"px-2","py-0.5","rounded","bg-[var(--mat-sys-primary-container)]","text-[var(--mat-sys-primary)]","font-mono","text-[10px]","font-bold"],[1,"px-2","py-0.5","rounded","bg-[var(--mat-sys-tertiary-container)]","text-[var(--mat-sys-tertiary)]","text-[10px]","font-bold","uppercase","tracking-wider"],[3,"protocol"]],template:function(e,r){e&1&&(i(0,"div",0),u("click",function(){return r.select.emit(r.protocol)}),i(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-icon"),o(5,"science"),n()(),i(6,"div",4)(7,"h3",5),o(8),n(),p(9,re,2,1,"p",6),n()()(),p(10,le,10,4)(11,ce,2,1,"div",7),n()),e&2&&(D("praxis-card-min",r.compact),a(8),m(r.protocol.name),a(),d(!r.compact&&r.protocol.category?9:-1),a(),d(r.compact?11:10))},dependencies:[L,M,y,h,P],styles:[".praxis-card.praxis-card-min[_ngcontent-%COMP%]{min-width:180px;max-width:220px}[_nghost-%COMP%]     app-protocol-warning-badge mat-icon{font-size:18px;width:18px;height:18px}"],changeDetection:0})};export{J as a};
