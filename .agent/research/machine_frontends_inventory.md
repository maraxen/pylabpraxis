# Machine & MachineFrontend Inventory

> Generated by @librarian agent - 2026-01-20

## 1. Abstract Base Analysis

The `pylabrobot.machines.machine.Machine` class is the root of the hierarchy.

**Location**: `external/pylabrobot/pylabrobot/machines/machine.py`

### Core Methods

| Method | Description |
|--------|-------------|
| `setup(**backend_kwargs)` | Initializes the backend |
| `stop()` | Shuts down the backend |
| `serialize()` / `deserialize()` | State management |

### Key Implementation Pattern

```python
# Base Machine setup in pylabrobot
async def setup(self, **backend_kwargs):
    await self.backend.setup(**backend_kwargs)
    self._setup_finished = True

# Example Concrete Implementation (PlateReader)
class PlateReader(ResourceHolder, Machine):
    def __init__(self, name: str, size_x: float, size_y: float, size_z: float, backend: PlateReaderBackend, ...):
        super().__init__(name, size_x, size_y, size_z, ...)
        Machine.__init__(self, backend)
```

## 2. Implementation Inventory

Concrete classes in `pylabrobot` include:

| Category | Implementation | Notes |
|----------|---------------|-------|
| **Core Robotics** | LiquidHandler | Core robotic liquid handling |
| **Measurement** | PlateReader | Optical measurement devices |
| **Temperature** | HeaterShaker | Integrated heating and shaking |
| **Processing** | Centrifuge | Sample separation |
| **Thermal** | Thermocycler | PCR and thermal cycling |
| **Sealing** | Sealer, Peeler | Plate sealing operations |
| **Auxiliary** | Pump, Fan, Scale | Supporting equipment |
| **Experimental** | SCARA Arm | Marked experimental |

**Total**: 17+ concrete implementations discovered via static analysis.

**Discovery Method**: `praxis/backend/utils/plr_static_analysis/models.py`

## 3. UI Integration Analysis

### Current Architecture

- **Generic Components**: Uses `MachineListComponent`, `MachineCardComponent`, `MachineFocusViewComponent`
- **Visualization**: `DeckViewComponent` handles SVG rendering of machine physical layout and state
- **Icons**: Mapped via `MACHINE_CATEGORY_ICONS` in `asset-icons.ts`

### Key Patterns Found

| Pattern | Description |
|---------|-------------|
| Frontend-Backend Separation | Every machine frontend is initialized with a `MachineBackend` for hardware-specific calls |
| Generic UI Rendering | UI relies on `machine_category` and `plr_definition` to dynamically render icons and deck layouts rather than having type-specific components |

### Files Examined

- `external/pylabrobot/pylabrobot/machines/machine.py` - Abstract base class
- `praxis/backend/utils/plr_static_analysis/models.py` - Machine type definitions
- `praxis/backend/models/domain/machine_frontend.py` - ORM models
- `praxis/web-client/src/app/shared/components/deck-view/deck-view.component.ts` - Deck rendering
- `praxis/web-client/src/app/features/workcell/machine-focus-view/machine-focus-view.component.ts` - Focus view

## 4. Recommendations for Bespoke UI

### Gaps Identified

1. **Non-deck machines** (Fans, Pumps) currently show a "No deck" message
2. **Direct interaction controls** (Initialize, Home) missing from `MachineFocusViewComponent`
3. **Capability-specific data** (e.g., current absorbance for readers) not shown in resource inspector

### Proposed Approach

1. Implement bespoke UI widgets for non-deck machines
2. Add direct interaction controls to `MachineFocusViewComponent`
3. Extend `resource-inspector-panel` to show capability-specific data

## 5. Caveats

- The SCARA arm implementation is marked as experimental
- The `is_simulated` flag is checked in multiple ways in the UI (direct property, connection_info check, or FQN matching) â€” should be unified
