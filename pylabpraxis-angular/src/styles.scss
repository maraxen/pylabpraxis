@use '@angular/material' as mat;
@use './theme-colors' as praxis-theme; // Ensure this path is correct

html {
  // This tells the browser that the application supports both light and dark modes,
  // and the OS/browser preference should be used.
  // The mat.theme mixin will use light-dark() CSS function for colors.
  color-scheme: light dark;

  @include mat.theme(( // Pass the composite theme object from your theme-colors.scss.
      // mat.theme will extract primary, secondary, tertiary M3 palettes from it.
      // praxis-theme.$primary-palette contains the primary M3 palette at its root,
      // and secondary, tertiary, etc., M3 palettes under their respective keys due to the merge with $_rest.
      color: (primary: praxis-theme.$primary-palette,
        // The rest of the palettes are merged with $_rest.
        tertiary: praxis-theme.$tertiary-palette ),

      typography: ( // Using 'Roboto Flex' for both plain and brand text.
        // Adjust font families and weights as needed.
        plain-family: '"Roboto Flex", "Roboto", "Noto Sans", sans-serif',
        brand-family: '"Roboto Flex", "Roboto", "Noto Sans", sans-serif',
        bold-weight: 700, // Standard bold
        medium-weight: 500, // Standard medium
        regular-weight: 400 // Standard regular
      ),
      density: 0 // Default density. Adjust from 0 to -5 as needed.
    ));

  // Apply high-contrast overrides.
  // The 'color-scheme' parameter will make the _high-contrast-value function use light-dark().
  @include praxis-theme.high-contrast-overrides(color-scheme);
}

// Global styles for the application body
body {
  // Use CSS variables generated by mat.theme for background and text color.
  // These variables will automatically switch between light/dark values
  // based on the active color-scheme.
  background: var(--mat-sys-surface);
  color: var(--mat-sys-on-surface);

  // Set the base font family for the application.
  // Material components will also use this via the typography config above.
  font-family: '"Roboto Flex"', "Roboto", "Noto Sans", sans-serif;

  margin: 0;
  height: 100%;
}

// Ensure you have linked "Roboto Flex" in your src/index.html:
/*
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto+Flex:opsz,wght@8..144,100..1000&display=swap" rel="stylesheet">
*/